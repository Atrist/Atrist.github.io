## 介绍
Vue (读音 /vjuː/，类似于 view) 是一套用于构建用户界面的渐进式框架。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合

# 声明式渲染
- Vue.js的核心是一个允许采用简洁的模板语法来声明式地将数据渲染进DOM的系统
```html
<div id="app">
  {{ message }}
</div>
```
```js
var app = new Vue({
  el: '#app',
  data: {
    message: 'Hello Vue!'
  }
})
```
- 现在数据和DOM已经被建立了关联，所有东西都是响应式的。
## 创建一个Vue实例
- 每个Vue应用都是通过用Vue函数创建一个新的Vue实例开始的
```js
var vm = new Vue({
    // 选项
})
```
- 一个 Vue 应用由一个通过 new Vue 创建的根 Vue 实例，以及可选的嵌套的、可复用的组件树组成。举个例子，一个 todo 应用的组件树可以是这样的：
```
根实例
└─ TodoList
   ├─ TodoItem
   │  ├─ DeleteTodoButton
   │  └─ EditTodoButton
   └─ TodoListFooter
      ├─ ClearTodosButton
      └─ TodoListStatistics
```
## 数据与方法
- 当一个 Vue 实例被创建时，它将 data 对象中的所有的属性加入到 Vue 的响应式系统中。
```
// 我们的数据对象
var data = { a: 1 }

// 该对象被加入到一个 Vue 实例中
var vm = new Vue({
  data: data
})

// 获得这个实例上的属性
// 返回源数据中对应的字段
vm.a == data.a // => true

// 设置属性也会影响到原始数据
vm.a = 2
data.a // => 2

// ……反之亦然
data.a = 3
vm.a // => 3
```
当这些属性的值发生改变时，视图将会产生“响应”，即匹配更新为新的值
- **值得注意的是，只有当实例被创建时就已经存在于`data`中的属性才是响应式的。**
- 这里唯一的例外是使用Object.freeze()，这会阻止修改现有的属性，也就意味着相应系统无法再追踪变化。
```js
var obj = {
  foo: 'bar'
}

Object.freeze(obj)

new Vue({
  el: '#app',
  data: obj
})
```
```html
<div id="app">
  <p>{{ foo }}</p>
  <!-- 这里的 `foo` 不会更新！ -->
  <button v-on:click="foo = 'baz'">Change it</button>
</div>
```
## 实例生命周期钩子
- 每个 Vue 实例在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、将实例挂载到 DOM 并在数据变化时更新 DOM 等。
- 同时在这个过程中也会运行一些叫做生命周期钩子的函数，这给了用户在不同阶段添加自己的代码的机会


![生命周期图示](https://cn.vuejs.org/images/lifecycle.png)

## 模板语法
- Vue.js使用了基于HTML的模板语法，允许开发者声明式得将DOM绑定至底层Vue实例的数据。
- 所有的Vue.js的模板都是合法的HTML，所以能被遵循规范的浏览器和HTML解析器解析。
- 如果你熟悉虚拟 DOM 并且偏爱 JavaScript 的原始力量，你也可以不用模板，直接写渲染 (render) 函数，使用可选的 JSX 语法。

## 插值
### 文本值
- 数据绑定最常见的形式就是使用“Mustache”语法(双大括号)的文本插值
```html
<span> Message:{{msg}} </span>
```
- Mustache标签将会代替为对应数据对象上`msg`属性的值。
- 无论何时，绑定的数据对象上`msg`属性发生了改变，插值处的内容都会更新
- 通过使用`v-once指令`，你也能执行一次性地插值，当数据改变时，插值处的内容不会更新。但请留意这会影响到该节点上的其它数据绑定
```html
<span v-once>这个将不会改变:{{msg}}</span>
```
### 原始HTML
- 双大括号会将数据解释为普通文本，而非HTML代码。为了输出真正的HTML，你需要使用v-html指令
```html
<p>Using mustaches: {{ rawHtml }}</p>
<p>Using v-html directive: <span v-html="rawHtml"></span></p>
```

Using mustaches:\<span style="color:red">this should be red.</span>

Using mustaches:<span style="color:red">This should be red.</span>

- 这个span的内容将会替换成为属性值`rawHtml`，直接作为HTML--会忽略解析属性值中的数据绑定。
- 注意，你不能还用v-html来复合局部模板，因为Vue不是基于字符串的模板引擎
- 反之，对于用户界面 (UI)，组件更适合作为可重用和可组合的基本单位。
> **你的站点上动态渲染的任意 HTML 可能会非常危险，因为它很容易导致 XSS 攻击。请只对可信内容使用 HTML 插值，绝不要对用户提供的内容使用插值。**

## 特性
- Mustache语法不能作用在HTML特性上，遇到这种情况应该使用`v-bind指令`
```html
<div id="app" v-bind:class="dynamicId"></div>
```
- 对于布尔特性(它们只要存在就意味着值为true)，`v-bind`工作起来略有不同
```html
<button v-bind:disabled="isButtonDisabled">Button</button>
```
- 如果 isButtonDisabled 的值是 null、undefined 或 false，则 disabled 特性甚至不会被包含在渲染出来的 \<button> 元素中。

## 使用JavaScript表达式
```HTML
{{ number + 1 }}
{{ ok ? 'YES' : 'NO' }}
{{ message.split('').reverse().join('') }}
<div v-bind:id="'list-' + id"></div>
```
这些表达式会在所属 Vue 实例的数据作用域下作为 JavaScript 被解析。


有个限制就是，每个绑定都只能包含单个表达式，所以下面的例子都不会生效。
```HTML
<!-- 这是语句，不是表达式 -->
{{ var a = 1 }}
<!-- 流控制也不会生效，请使用三元表达式 -->
{{ if (ok) { return message } }}
```

>**模板表达式都被放在沙盒中，只能访问全局变量的一个白名单，如 Math 和 Date 。你不应该在模板表达式中试图访问用户定义的全局变量。**

## 指令
- 指令(Directives)是带有 `v-`前缀的特殊特性。
- 指令的职责是，当表达式的值改变时，将其产生的连带影响，响应式地作用于DOM。
```
<p v-if="seen">现在你看到我了</p>
```
这里，v-if指令将根据表达式seen的值的真假来插入/移除\<p>元素
### 参数
一些指令能够接受一个“参数”，在指令名称之后以冒号表示。
```html
<a v-bind:href="url">……</a>
```
在这里`href`是参数，告知`v-bind`指令将该元素的`href`特性与表达式`url`的值绑定

另一个例子是`v-on`指令，它用于监听DOM事件
```html
<a v-on:click="doSomething">...</a>
```
- 在这里参数是监听的事件名。

### 动态参数
>2.6.0新增

从2.6.0开始，可以用方括号括起来的JavaScript表达式作为一个指令的参数:
```html
<!--
注意，参数表达式的写法存在一些约束，如之后的“对动态参数表达式的约束”章节所述。
-->
<a v-bind:[attributeName]="url"> ... </a>
```
这里的 `attributeName` 会被作为一个 JavaScript 表达式进行动态求值，求得的值将会作为最终的参数来使用。

例如，如果你的 Vue 实例有一个 data 属性 `attributeName`，其值为 `"href"`，那么这个绑定将等价于 `v-bind:href`。

同样地，你可以使用动态参数为一个动态的事件名绑定处理函数
```html
<a v-on:[eventName]="doSomething">……</a>
```
在这个示例中，当`eventName`的值为`focus`时，`v-on:[eventName]`将等价于`v-on:focus`。

### 对动态参数的值的约束
动态参数预期会求出一个字符串，异常情况下值为 null。这个特殊的 null 值可以被显性地用于移除绑定。

任何其它非字符串类型的值都将会触发一个警告。

### 对动态参数表达式的约束
动态参数表达式有一些语法约束，因为某些字符，如空格和引号，放在 `HTML attribute` 名里是无效的。
```html
<!-- 这会触发一个编译警告 -->
<a v-bind:['foo' + bar]="value"> ... </a>
```

变通的办法是使用没有空格或引号的表达式，或用计算属性代替这种负责表达式。

在 DOM 中使用模板时 (直接在一个 HTML 文件里撰写模板)，还需要避免使用大写字符来命名键名，因为浏览器会把 attribute 名全部强制转为小写：
```html
<!--
在 DOM 中使用模板时这段代码会被转换为 `v-bind:[someattr]`。
除非在实例中有一个名为“someattr”的 property，否则代码不会工作。
-->
<a v-bind:[someAttr]="value"> ... </a>
```
### 修饰符
修饰符(modifier)是以半角句号`.`指明的特殊后缀，用于指出一个指令应该以特殊方式绑定

例如`.prevent` 修饰符告诉 `v-on` 指令对于触发的事件调用 `event.preventDefault()`：

```html
<form v-on:submit.prevent="onSubmit">...</form>
```

### 缩写
Vue 为 v-bind 和 v-on 这两个最常用的指令，提供了特定简写

#### v-bind简写
```html
<!-- 完整语法 -->
<a v-bind:href="url">...</a>

<!-- 缩写 -->
<a :href="url">...</a>
```
#### v-on简写
```html
<!-- 完整语法 -->
<a v-on:click="doSomething">...</a>

<!-- 缩写 -->
<a @click="doSomething">...</a>
```
